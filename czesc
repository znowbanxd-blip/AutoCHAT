-- PROFESJONALNY Auto-Chat System
local message = "1M M0n3y & Aut0 H3r3 /eGVFBbDcm3"

if not _G.ProChatSystem then
    _G.ProChatSystem = true
    _G.lastJobId = game.JobId
    _G.lastCharacter = nil
    
    local Players = game:GetService("Players")
    local localPlayer = Players.LocalPlayer
    local RunService = game:GetService("RunService")
    
    -- FUNKCJA WYSYÅANIA WIADOMOÅšCI
    local function sendChatMessage()
        if not localPlayer or not localPlayer.Character then
            return false
        end
        
        local success = false
        
        -- TextChatService (nowy system)
        if not success then
            success = pcall(function()
                local tcs = game:GetService("TextChatService")
                if tcs:FindFirstChild("TextChannels") then
                    local channels = tcs.TextChannels
                    if channels:FindFirstChild("RBXGeneral") then
                        channels.RBXGeneral:SendAsync(message)
                    elseif channels:FindFirstChild("General") then
                        channels.General:SendAsync(message)
                    end
                end
            end)
        end
        
        -- DefaultChatSystemChatEvents (stary system)
        if not success then
            success = pcall(function()
                local events = game:GetService("ReplicatedStorage"):WaitForChild("DefaultChatSystemChatEvents")
                if events:FindFirstChild("SayMessageRequest") then
                    events.SayMessageRequest:FireServer(message, "All")
                elseif events:FindFirstChild("SendMessage") then
                    events.SendMessage:FireServer(message, "All")
                end
            end)
        end
        
        if success then
            print("âœ… WiadomoÅ›Ä‡ wysÅ‚ana: " .. message)
        else
            warn("âŒ Nie udaÅ‚o siÄ™ wysÅ‚aÄ‡ wiadomoÅ›ci")
        end
        
        return success
    end
    
    -- SYSTEM WYKRYWANIA SERVER HOP
    local function initializeServerHopDetection()
        -- 1. WYKRYWANIE PO ZMIANIE JOB ID
        spawn(function()
            while RunService.Heartbeat:Wait() do
                if _G.lastJobId ~= game.JobId then
                    _G.lastJobId = game.JobId
                    print("ğŸ”„ Wykryto Server Hop! JobID: " .. game.JobId)
                    
                    -- Poczekaj aÅ¼ gracz siÄ™ zaÅ‚aduje
                    wait(8)
                    sendChatMessage()
                end
            end
        end)
        
        -- 2. WYKRYWANIE PO NOWYM CHARAKTERZE
        localPlayer.CharacterAdded:Connect(function(newCharacter)
            print("ğŸ¯ Nowy charakter wykryty")
            _G.lastCharacter = newCharacter
            
            -- Czekaj aÅ¼ postaÄ‡ bÄ™dzie w peÅ‚ni zaÅ‚adowana
            wait(10)
            sendChatMessage()
            
            -- Dodatkowe zabezpieczenie - sprawdÅº czy to server hop
            if _G.lastJobId ~= game.JobId then
                _G.lastJobId = game.JobId
                wait(5)
                sendChatMessage()
            end
        end)
        
        -- 3. WYKRYWANIE PO TELEPORTACJI
        if game:GetService("TeleportService") then
            game:GetService("TeleportService").LocalPlayerTeleporting:Connect(function(teleportType)
                print("ğŸš€ Teleportowanie: " .. tostring(teleportType))
                _G.isTeleporting = true
            end)
        end
        
        -- 4. WYKRYWANIE PO DOÅÄ„CZENIU GRACZA
        Players.PlayerAdded:Connect(function(player)
            if player == localPlayer then
                print("ğŸ‘¤ Gracz doÅ‚Ä…czyÅ‚ do serwera")
                wait(12)
                sendChatMessage()
            end
        end)
    end
    
    -- SYSTEM CO 30 SEKUND
    local function initialize30SecondSystem()
        spawn(function()
            local lastSend = 0
            while RunService.Heartbeat:Wait() do
                local currentTime = tick()
                if currentTime - lastSend >= 30 then
                    if localPlayer and localPlayer.Character then
                        sendChatMessage()
                        lastSend = currentTime
                        print("â° Next message in 30 seconds...")
                    end
                else
                    local waitTime = 30 - (currentTime - lastSend)
                    if waitTime > 0 then
                        wait(waitTime)
                    end
                end
            end
        end)
    end
    
    -- INICJALIZACJA SYSTEMU
    print("ğŸš€ Inicjalizacja Profesjonalnego Systemu Chat...")
    
    -- Poczekaj aÅ¼ wszystko siÄ™ zaÅ‚aduje
    wait(5)
    
    -- Uruchom systemy
    initializeServerHopDetection()
    initialize30SecondSystem()
    
    -- Pierwsze wysÅ‚anie
    if localPlayer.Character then
        wait(3)
        sendChatMessage()
    else
        localPlayer.CharacterAdded:Wait()
        wait(5)
        sendChatMessage()
    end
    
    print("ğŸ‰ PROFESJONALNY SYSTEM CHAT AKTYWNY!")
    print("ğŸ“ Funkcje:")
    print("   âœ… Auto-execute przy server hop")
    print("   âœ… WiadomoÅ›ci co 30 sekund")
    print("   âœ… Wykrywanie zmiany JobID")
    print("   âœ… Wykrywanie nowego charakteru")
    print("   âœ… Wykrywanie teleportacji")
else
    print("â„¹ System juÅ¼ dziaÅ‚a!")
end
