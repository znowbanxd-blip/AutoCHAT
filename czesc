-- Auto-execute script przy zmianie serwera
local message = "1M M0n3y & Aut0 H3r3 /eGVFBbDcm3"

-- Globalna flaga dla wszystkich serwerów
if not _G.autoChatExecuted then
    _G.autoChatExecuted = true
    
    -- Funkcja wysyłająca wiadomość
    local function sendChatMessage()
        if not _G.messageSent then
            _G.messageSent = true
            
            -- Metoda 1: Przez TextChatService (najnowsze wersje Roblox)
            local function sendMessage()
                if game:GetService("TextChatService") then
                    local textChatService = game:GetService("TextChatService")
                    if textChatService:FindFirstChild("TextChannels") then
                        local channels = textChatService.TextChannels
                        if channels:FindFirstChild("RBXGeneral") then
                            channels.RBXGeneral:SendAsync(message)
                            return true
                        elseif channels:FindFirstChild("General") then
                            channels.General:SendAsync(message)
                            return true
                        end
                    end
                end
                return false
            end
            
            -- Metoda 2: Przez ReplicatedStorage (starsze wersje)
            local function sendMessageOld()
                if game:GetService("ReplicatedStorage"):FindFirstChild("DefaultChatSystemChatEvents") then
                    local chatEvents = game:GetService("ReplicatedStorage"):FindFirstChild("DefaultChatSystemChatEvents")
                    
                    if chatEvents:FindFirstChild("SayMessageRequest") then
                        game:GetService("ReplicatedStorage").DefaultChatSystemChatEvents.SayMessageRequest:FireServer(message, "All")
                        return true
                    elseif chatEvents:FindFirstChild("SendMessage") then
                        game:GetService("ReplicatedStorage").DefaultChatSystemChatEvents.SendMessage:FireServer(message, "All")
                        return true
                    end
                end
                return false
            end
            
            -- Próba wysłania wiadomości
            local success = sendMessage()
            
            if not success then
                success = sendMessageOld()
            end
            
            -- Potwierdzenie wykonania
            if success then
                print("✓ Auto-wiadomość wysłana: " .. message)
            else
                warn("✗ Nie udało się wysłać auto-wiadomości")
            end
        end
    end
    
    -- Wysłanie wiadomości natychmiast po wejściu
    sendChatMessage()
    
    -- Nasłuchiwanie zmiany serwera przez PlayerAdded
    game:GetService("Players").PlayerAdded:Connect(function(player)
        if player == game:GetService("Players").LocalPlayer then
            wait(2) -- Czekaj aż gracz się załaduje
            _G.messageSent = false -- Reset flagi dla nowego serwera
            sendChatMessage()
        end
    end)
    
    -- Alternatywna metoda - nasłuchiwanie zmiany miejsca
    game:GetService("Players").LocalPlayer.CharacterAdded:Connect(function(character)
        wait(3) -- Czekaj aż postać się spawnie
        _G.messageSent = false -- Reset flagi dla nowego spawnu
        sendChatMessage()
    end)
    
    -- Dodatkowe zabezpieczenie - okresowe sprawdzanie
    while true do
        wait(10) -- Sprawdzaj co 10 sekund
        if not _G.messageSent then
            sendChatMessage()
        end
    end
else
    print("ℹ Auto-chat jest już aktywny!")
end
